import{g as v,j as g,r,c as w,a as s,l as u,v as l,m as i,n as p,p as y,o as b,q as h}from"./CJ4QiOoU.js";import{u as x}from"./BxxLc4LK.js";const R=v({__name:"login",setup(B){const d=x(),m=g(),c=h(),o=r(""),n=r("");async function f(){try{const e=await $fetch(`${c.public.apiBase}/api/users/login`,{method:"POST",credentials:"include",body:{username:o.value,password:n.value}});e&&(alert(e.message),d.setUser(e.username,e.userid,e.nickname),m.push("/chat"))}catch(e){console.error(e),alert("로그인에 실패했습니다.")}}return(e,t)=>(b(),w("div",null,[t[3]||(t[3]=s("h1",null,"로그인",-1)),s("form",{onSubmit:y(f,["prevent"])},[u(s("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>p(o)?o.value=a:null),type:"text",placeholder:"아이디"},null,512),[[l,i(o)]]),u(s("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>p(n)?n.value=a:null),type:"password",placeholder:"비밀번호"},null,512),[[l,i(n)]]),t[2]||(t[2]=s("button",{type:"submit"}," 전송 ",-1))],32)]))}});export{R as default};
