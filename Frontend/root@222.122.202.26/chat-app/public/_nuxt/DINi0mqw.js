import{u as o}from"./BxxLc4LK.js";import{g as t,s as u,q as c}from"./CJ4QiOoU.js";import{u as i}from"./Q3TeS-oq.js";const l=t({__name:"UserCheck",setup(m){const s=o(),a=c();async function r(){try{const{data:e,error:n}=await i(`${a.public.apiBase}/api/users/checklogin`,{method:"GET",credentials:"include"},"$pivyMCFqGj");if(n.value){console.log(n.value);return}e.value?.loggedIn&&e.value?.username&&e.value?.userid&&e.value?.nickname&&s.setUser(e.value.username,e.value.userid,e.value.nickname)}catch(e){console.error(e)}}return u(()=>{r()}),(e,n)=>null}}),v=Object.assign(l,{__name:"UserCheck"});export{v as U};
