import{g as v,j as g,r,c as w,a as s,l as u,v as l,m as i,n as p,p as y,o as b,q as h}from"./9hwllV1j.js";import{u as x}from"./CEY7yZKT.js";const U=v({__name:"login",setup(B){const d=x(),m=g(),f=h(),o=r(""),n=r("");async function c(){try{const t=await $fetch(`${f.public.apiBase}/api/users/login`,{method:"POST",credentials:"include",body:{username:o.value,password:n.value}});t&&(alert(t.message),d.setUser(t.username,t.userid),m.push("/chat"))}catch(t){console.error(t),alert("로그인에 실패했습니다.")}}return(t,e)=>(b(),w("div",null,[e[3]||(e[3]=s("h1",null,"로그인",-1)),s("form",{onSubmit:y(c,["prevent"])},[u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>p(o)?o.value=a:null),type:"text",placeholder:"아이디"},null,512),[[l,i(o)]]),u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>p(n)?n.value=a:null),type:"password",placeholder:"비밀번호"},null,512),[[l,i(n)]]),e[2]||(e[2]=s("button",{type:"submit"}," 전송 ",-1))],32)]))}});export{U as default};
